import{d as x,a2 as V,c as y,t as r,L as v,A as d,v as p,N as k,O as z,U as _,P as A,S as N,M as h,_ as b,R as B,r as S,z as c,V as w,B as C,y as I}from"./CGNjcu6U.js";import{V as L}from"./CKERvq7C.js";import{V as $}from"./76inrP5l.js";const F=x({__name:"field",props:{field:{}},emits:["onClickCell"],setup(s,{emit:e}){V(l=>({"794f33ba":h(i)}));const t=s,i=y(()=>{var l;return((l=t.field)==null?void 0:l.length)??0}),a=e,n=(l,f)=>{a("onClickCell",l,f)};return(l,f)=>t.field?(r(),v(L,{key:0,elevation:"24",class:"field pa-2"},{default:d(()=>[(r(!0),p(k,null,z(t.field,(o,u)=>(r(),p("div",{key:u,class:"row"},[(r(!0),p(k,null,z(o,(m,g)=>(r(),v(_,{key:g,class:A(["cell",{"is-fill":m}]),flat:"",color:m?"primary":"background",onClick:E=>n(u,g)},null,8,["color","class","onClick"]))),128))]))),128))]),_:1})):N("",!0)}}),G=b(F,[["__scopeId","data-v-70bd510e"]]),D=B("useLifeGame",{state:()=>({field:[],fieldSize:10}),actions:{start(){this.field=Array.from({length:this.fieldSize},()=>Array.from({length:this.fieldSize},()=>!1))},toggleCell(s,e){this.field[s][e]=!this.field[s][e]},next(){const s=Array.from({length:this.fieldSize},()=>Array.from({length:this.fieldSize},()=>!1));for(let e=0;e<this.fieldSize;e++)for(let t=0;t<this.fieldSize;t++){const i=this.countAliveNeighbors(e,t);this.field[e][t]?s[e][t]=i===2||i===3:s[e][t]=i===3}this.field=s},countAliveNeighbors(s,e){let t=0;for(let i=-1;i<=1;i++)for(let a=-1;a<=1;a++){if(i===0&&a===0)continue;let n=s+i,l=e+a;n<0&&(n+=this.fieldSize),n>=this.fieldSize&&(n-=this.fieldSize),l<0&&(l+=this.fieldSize),l>=this.fieldSize&&(l-=this.fieldSize),this.field[n][l]&&t++}return t}}}),O=window.setInterval,T=x({__name:"life-game",setup(s){const e=D(),t=y(()=>e.field),i=(f,o)=>{e.toggleCell(f,o)},a=S(!1),n=S(null),l=()=>{a.value=!a.value,a.value?n.value=O(()=>{e.next()},500):clearInterval(n.value)};return e.start(),(f,o)=>{const u=G;return r(),v($,null,{default:d(()=>[c(u,{field:t.value,onOnClickCell:i},null,8,["field"]),c(w,{class:"ma-4"}),c(_,{class:"ma-2",onClick:o[0]||(o[0]=m=>h(e).next())},{default:d(()=>[C(" next ")]),_:1}),c(_,{class:"ma-2",onClick:o[1]||(o[1]=m=>h(e).start())},{default:d(()=>[C(" reset ")]),_:1}),c(_,{class:"ma-2",onClick:l},{default:d(()=>[C(I(h(a)?"stop":"auto"),1)]),_:1})]),_:1})}}});export{T as default};
