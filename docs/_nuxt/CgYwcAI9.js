import{d as x,a3 as V,c as y,t as r,M as v,A as d,v as p,O as k,P as S,W as m,T as A,N as _,_ as N,S as w,r as z,z as c,V as B,B as C,y as I}from"./D7M4YISc.js";import{V as $}from"./N--mrSUc.js";import{V as b}from"./rL4n4jCq.js";const F=x({__name:"field",props:{field:{}},emits:["onClickCell"],setup(s,{emit:e}){V(l=>({"5cc23091":_(i)}));const t=s,i=y(()=>{var l;return((l=t.field)==null?void 0:l.length)??0}),n=e,o=(l,f)=>{n("onClickCell",l,f)};return(l,f)=>t.field?(r(),v($,{key:0,elevation:"24",color:"grey-darken-3",class:"field pa-2"},{default:d(()=>[(r(!0),p(k,null,S(t.field,(a,u)=>(r(),p("div",{key:u,class:"row"},[(r(!0),p(k,null,S(a,(h,g)=>(r(),v(m,{key:g,class:"cell",flat:"",color:h?"primary":"white",onClick:O=>o(u,g)},null,8,["color","onClick"]))),128))]))),128))]),_:1})):A("",!0)}}),G=N(F,[["__scopeId","data-v-bc627e5d"]]),L=w("useLifeGame",{state:()=>({field:[],fieldSize:10}),actions:{start(){this.field=Array.from({length:this.fieldSize},()=>Array.from({length:this.fieldSize},()=>!1))},toggleCell(s,e){this.field[s][e]=!this.field[s][e]},next(){const s=Array.from({length:this.fieldSize},()=>Array.from({length:this.fieldSize},()=>!1));for(let e=0;e<this.fieldSize;e++)for(let t=0;t<this.fieldSize;t++){const i=this.countAliveNeighbors(e,t);this.field[e][t]?s[e][t]=i===2||i===3:s[e][t]=i===3}this.field=s},countAliveNeighbors(s,e){let t=0;for(let i=-1;i<=1;i++)for(let n=-1;n<=1;n++){if(i===0&&n===0)continue;let o=s+i,l=e+n;o<0&&(o+=this.fieldSize),o>=this.fieldSize&&(o-=this.fieldSize),l<0&&(l+=this.fieldSize),l>=this.fieldSize&&(l-=this.fieldSize),this.field[o][l]&&t++}return t}}}),D=window.setInterval,P=x({__name:"life-game",setup(s){const e=L(),t=y(()=>e.field),i=(f,a)=>{e.toggleCell(f,a)},n=z(!1),o=z(null),l=()=>{n.value=!n.value,n.value?o.value=D(()=>{e.next()},500):clearInterval(o.value)};return e.start(),(f,a)=>{const u=G;return r(),v(b,null,{default:d(()=>[c(u,{field:t.value,onOnClickCell:i},null,8,["field"]),c(B,{class:"ma-4"}),c(m,{class:"ma-2",onClick:a[0]||(a[0]=h=>_(e).next())},{default:d(()=>[C(" next ")]),_:1}),c(m,{class:"ma-2",onClick:a[1]||(a[1]=h=>_(e).start())},{default:d(()=>[C(" reset ")]),_:1}),c(m,{class:"ma-2",onClick:l},{default:d(()=>[C(I(_(n)?"stop":"auto"),1)]),_:1})]),_:1})}}});export{P as default};
