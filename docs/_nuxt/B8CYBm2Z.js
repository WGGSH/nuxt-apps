import{d as x,a2 as y,c as V,t as f,L as g,A as d,v as p,N as k,O as z,U as _,P as A,S as b,M as h,_ as N,R as B,r as S,z as c,V as w,B as C,y as I}from"./DoHB876r.js";import{V as L}from"./D3l5ccxn.js";import{V as $}from"./Biw3QHEG.js";import"./CW8zU6MW.js";const F=x({__name:"field",props:{field:{}},emits:["onClickCell"],setup(s,{emit:e}){y(l=>({b1839804:h(i)}));const t=s,i=V(()=>{var l;return((l=t.field)==null?void 0:l.length)??0}),n=e,a=(l,r)=>{console.log(l,r),n("onClickCell",l,r)};return(l,r)=>t.field?(f(),g(L,{key:0,elevation:"24",class:"field pa-2"},{default:d(()=>[(f(!0),p(k,null,z(t.field,(o,u)=>(f(),p("div",{key:u,class:"row"},[(f(!0),p(k,null,z(o,(m,v)=>(f(),g(_,{key:v,class:A(["cell",{"is-fill":m}]),flat:"",color:m?"primary":"background",onClick:E=>a(u,v)},null,8,["color","class","onClick"]))),128))]))),128))]),_:1})):b("",!0)}}),G=N(F,[["__scopeId","data-v-6ba18b01"]]),D=B("useLifeGame",{state:()=>({field:[],fieldSize:10}),actions:{start(){this.field=Array.from({length:this.fieldSize},()=>Array.from({length:this.fieldSize},()=>!1))},toggleCell(s,e){this.field[s][e]=!this.field[s][e]},next(){const s=Array.from({length:this.fieldSize},()=>Array.from({length:this.fieldSize},()=>!1));for(let e=0;e<this.fieldSize;e++)for(let t=0;t<this.fieldSize;t++){const i=this.countAliveNeighbors(e,t);this.field[e][t]?s[e][t]=i===2||i===3:s[e][t]=i===3}this.field=s},countAliveNeighbors(s,e){let t=0;for(let i=-1;i<=1;i++)for(let n=-1;n<=1;n++){if(i===0&&n===0)continue;let a=s+i,l=e+n;a<0&&(a+=this.fieldSize),a>=this.fieldSize&&(a-=this.fieldSize),l<0&&(l+=this.fieldSize),l>=this.fieldSize&&(l-=this.fieldSize),this.field[a][l]&&t++}return t}}}),O=window.setInterval,U=x({__name:"life-game",setup(s){const e=D(),t=V(()=>e.field),i=(r,o)=>{e.toggleCell(r,o)},n=S(!1),a=S(null),l=()=>{n.value=!n.value,n.value?a.value=O(()=>{e.next()},500):clearInterval(a.value)};return e.start(),(r,o)=>{const u=G;return f(),g($,null,{default:d(()=>[c(u,{field:t.value,onOnClickCell:i},null,8,["field"]),c(w,{class:"ma-4"}),c(_,{class:"ma-2",onClick:o[0]||(o[0]=m=>h(e).next())},{default:d(()=>[C(" next ")]),_:1}),c(_,{class:"ma-2",onClick:o[1]||(o[1]=m=>h(e).start())},{default:d(()=>[C(" reset ")]),_:1}),c(_,{class:"ma-2",onClick:l},{default:d(()=>[C(I(h(n)?"stop":"auto"),1)]),_:1})]),_:1})}}});export{U as default};
